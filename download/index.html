<!DOCTYPE html>
<html>
<title>Downloads - Cardboard</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
body {background:rgb(30,30,30); color:white}

.w3-third, .w3-col { margin-top:1em}
#version-select, #apb {max-width:250px}
#apb {max-width:280px}

#version-select .con, #apb .con {
	border-bottom-left-radius:16px;
	border-bottom-right-radius:16px;
	background:rgb(0,65,122);
	width: 100%;
	padding: 4px;
}

#version-select button {display:block;width:100%;padding:9px 2px;margin:0;margin-bottom:4px;color:white}
#verc {font-weight:600;background:black;padding:1px 8px;border-radius:8px}
.w3-third h2 {font-size:2rem; text-shadow:4px 4px 4px black;}

.active { background: rgb(40,90,180); border-radius: 4px; outline: 1px solid rgb(20,140,80); box-shadow: 4px 4px 4px black;}
.green {border:none;color:white;cursor:pointer;background:rgb(0,150,0);padding:9px 32px;box-shadow:0 3px 2px black;border-radius:4px;font-size:1.25rem}
.green:hover {background-color:rgb(39,174,96)}
.green:active {position:relative;left:2px;top:2px}

.head {padding:.5em;box-shadow: 0px 3px 4px rgb(0,57,108)}.d {min-width:140px;margin:1px}
video {width:270px}.ap {padding:0;margin:0}.head{background:rgb(0,3,8)}

a{text-decorataion:none;cursor:pointer;}

.w3-autoo{margin-left:auto;margin-right:auto}
.w3-autoo{max-width:1400px}
@media (max-width:1435px){.w3-autoo{ max-width:100%}}

.navbar a {padding:8px;margin:4px;border:1px solid rgb(50,50,50)}
.title {font-size:2rem;padding-top:0;margin-top:-10px;margin-bottom:0}
.navbar {float:right;margin-right:6rem;margin-top:1.13rem}
.cba {font-size:.7em;margin-left:80px;margin-top:-20px}

#other {color:#ddd}
#other h3 {margin-left:10%;}
.omod {position:relative;left:10%;padding:8px;}
.omod:hover {background:black;}
.omod img {padding-right:12px;height:48px}
.omod p { margin:0;display:inline-block;vertical-align:middle}

.aa { color: rgb(0, 160, 255); cursor: pointer; }


</style>

<body>

<!--Head-->
<div class="w3-container head" id="head" style="color:white;text-align:center">
	<div style="float:left;padding-left:2rem;margin:1rem">
		<h1 class="title"><img src="../assets/cardboard-box.png" width="58px"><span>Cardboard</span></h1> 
		<p class="cba">Spigot/Paper API for Fabric</p>
	</div>
	<div class="navbar">
		<a href="../" class="w3-button">Home</a><a href="" class="w3-button">Download</a>
		<a class="w3-button w3-black ap" href="https://billing.apexminecrafthosting.com/aff.php?aff=3548">Apex Hosting - Minecraft Servers</a>
	</div>
</div>
<br>
<div class="w3-row w3-autoo">
	<div class="w3-third w3-container">
		<center>
		<div id="version-select" class="w3-card-4">
			<div class="w3-container w3-padding" style="background:rgb(0, 46, 96)">Select version</div>
			<div class="w3-container w3-padding con">
				<button id="24" onclick="ver_click(24)" class="w3-button">1.21.4*</button>
				<button id="23" onclick="ver_click(23)" class="w3-button active">1.21.1</button>
				<button id="22" onclick="ver_click(22)" class="w3-button">1.20.6</button>
				<button id="20" onclick="ver_click(20)" class="w3-button">1.20.1</button>
				<a href="./legacy.html"><button id="17" style="text-decoration:underline" class="w3-button">View Older</button></a>
			</div>
		</div>
		</center>
	</div>

<div class="w3-third w3-container w3-center">
	<h2>Get Cardboard <span id="verc">[Loading...]</span></h2>
	<p>&nbsp;</p>
	<a href="https://modrinth.com/mod/cardboard" id="dll">
		<button class="green" id="dlb">Download</button>
	</a>
	<br><br>
	<div id="124-alpha" style="display:none;background:rgba(0, 0, 0, .4); border-radius: 8px;padding:1rem">
		<span>
		Download 1.21.4 Test Build:
		</span><br><br>

		<span class="aa">&middot; <a target="_blank" href="https://ci.codemc.io/job/IsaiahPatton/job/Cardboard-1.21.4/">View Cardboard 1.21.4 builds</a></span><br>
		<span class="aa">&middot; <a target="_blank" href="https://ci.codemc.io/job/IsaiahPatton/job/iCommon/">View iCommonLib 1.21.4 builds</a></span>
		
	
	</div>
	
	<p>&nbsp;</p>
</div>
<div class="w3-third w3-container">
<center>
<div id="apb" class="w3-card-4">
	<div class="w3-container w3-padding" style="background:rgb(0, 46, 96)">Partner</div>
	<div class="con">
		<a href="https://billing.apexminecrafthosting.com/aff.php?aff=3548"><img src="./apex/apex1.png" width="100%"></a>
	</div>
</div>
</center>
</div>
</div>
<div class="w3-row w3-autoo">
	<div class="w3-third w3-center">
		<p><a href="https://billing.apexminecrafthosting.com/aff.php?aff=3548"><img src="./apex/apex4.png"></a></p>
				<a class="w3-center" href="https://billing.apexminecrafthosting.com/aff.php?aff=3548"><video muted autoplay loop id="myVideo"><source id="vidsrc" src="./apex/Apex Hosting Animated Logo Only.mp4" type="video/mp4"></video></a><br>
	</div>
	<div class="w3-third w3-center">
		<div>
		<a href="https://bit.ly/fabric-api" target="_blank"><img src="./assets/fapi.png" width="170"></a>
		<a href="https://bit.ly/icommon" target="_blank"><img src="./assets/badge.png" width="170"></a>
	</div>
	</div>
	<div class="w3-third" id="other">
		<h3>Other mods:</h3>
		<div class="omod">
			<a href="https://bit.ly/multi-world">
				<img src="./globe.png"><p><b>Multiworld (Fabric)</b><br>World management mod</p>
			</a>
		</div>
		<div class="omod">
			<a href="https://bit.ly/luckyblocks-fabric">
				<img src="./assets/lb.png"><p><b>Lucky Blocks (Fabric)</b><br>Modern Lucky Blocks for Fabric</p>
			</a>
		</div>
		<div class="omod">
			<a href="https://bit.ly/chestshop-fabric">
				<img src="./assets/cshop.jpg"><p><b>Chest Shop (Fabric)</b><br>A simple mod that adds chest powered shops</p>
			</a>
		</div>
		<div class="omod">
			<a href="https://bit.ly/faithful-128">
				<img src="./assets/hd.png"><p><b>Faithful x128</b><br>128x128 textures that stay faithful to the default.</p>
			</a>
		</div>
	</div>
</div>

</body>
<script>
function $(id) {return document.getElementById(id)}

function ver_click(e) {
	for (var i = 19; i <= 24; i++) {
		if (undefined != $(i)) {
			$(i).className = $(i).className.replace(' active', '');
		}
	}

	$(e).className += ' active';
	var txt = $(e).innerText;
	req_new(txt, e)
}

// addEventListener("load", function(e){ req_new('1.19.2', '19') });
addEventListener("load", function(e){ req_new('1.21.1', '23') });

var myObj;
function req_new(ver, e) {
	ver = ver.replace('*','');
	if (undefined != myObj) {
		doo(ver, e, 0);
		return;
	}

	var req = new XMLHttpRequest();
	req.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
			myObj = JSON.parse(this.responseText);
			doo(ver, e, 0);
		}
	};
	req.open("GET", "https://api.modrinth.com/v2/project/cardboard/version", true);
	req.send();
}

function doo(ver, e, c) {
	var objj = myObj[c]
	var name = objj.name.split(" ")[0].replace('#','')
	var dl = objj.files[0].url
	var vars = objj.game_versions;

	if (ver == '1.21.4') {
		$('dlb').innerHTML = "Coming 2025"
		$('verc').innerHTML = $(e).innerText;
		$('dll').href = "#";
		$('124-alpha').style.display = "block";
		return;
	}

	if (!vars.toString().includes(ver.split(' ')[0])) {
		doo(ver, e, c + 1)
		return;
	}

	$('dlb').innerHTML = '<span class="tspan">Download </a> #' + name + "&nbsp;<b>(for " + vars + ")</b></span>";
	$('verc').innerHTML = $(e).innerText;
	$('dll').href = dl;
	$('124-alpha').style.display = "none";
}
</script>
</html>   